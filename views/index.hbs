<div class="container">
  <div class="row d-flex flex-column">
    <!--篩選-->

    <form action="/" method="GET">
      <select class="form-select mt-5" name="category" required>
        <option value="全部">類別</option>
        {{#each category}}
        <option value="{{this.name}}">{{this.name}}</option>
        {{/each}}
      </select>
      <button type="submit" class="btn btn-dark ml-3">篩選</button>
    </form>

    <!--總金額-->
    <div class="mt-4 d-flex">
      <h3 class="mr-5">總金額:</h3>
      <h1 style="color:orange">{{totalAmount}}</h1>
    </div>

    <!--各項支出-->
    <div class="mt-4">
      {{#each records}}
      <div class="d-flex align-items-center">
        <ul class="list-group col-8">
          <li class="list-group-item d-flex bd-highlight align-items-center">
            <div class="icon p-2 bd-highlight">
              <i class='{{this.category}}' style="color: rgb(147, 195, 218); font-size:xx-large"></i>
            </div>
            <div class="d-flex flex-column p-2 bd-highlight">
              <div style="font-size: large;">{{this.name}}</div>
              <div style="font-size: smaller;">{{this.date}}</div>
            </div>
            <div class="amount ml-auto p-2 bd-highlight">
              <div>{{this.amount}}</div>
            </div>
          </li>
        </ul>
        <div class="col-4">
          <a href="/record/{{this._id}}/edit" class="mr-3">修改</a>
          <form action="/record/{{this._id}}?_method=DELETE" method="POST" style="display:inline">
            <button type="submit" class="btn btn-danger">刪除</button>
          </form>
        </div>
      </div>
      {{/each}}
    </div>

    <!--新增支出-->
    <div class="d-flex justify-content-center col-8 mt-5">
      <a href="/record/new" class="btn btn-success">新增支出</a>
    </div>
  </div>
</div>